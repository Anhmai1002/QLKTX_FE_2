{"ast":null,"code":"import Axios from \"axios\";\nexport default function createApi(_ref) {\n  let {\n    url,\n    method\n  } = _ref;\n  const request = function () {\n    let paths = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    let queries = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    let payload = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    const config = {};\n    config.url = url;\n    config.method = method;\n    // config.data = data\n\n    if (paths) {\n      config.url = Object.keys(paths).reduce((prev, curr) => prev.replace(`:${curr}`, paths[curr]), url);\n    }\n    if (queries) {\n      config.url = Object.keys(queries).reduce((prev, curr) => prev + `${curr}=${queries[curr]}`, `${config.url}?`);\n    }\n    if (payload) {\n      config.data = payload;\n    }\n    console.log('config', config);\n    return Axios(config).then(res => res.data).catch(res => res.error);\n  };\n  return request;\n}","map":{"version":3,"names":["Axios","createApi","_ref","url","method","request","paths","arguments","length","undefined","queries","payload","config","Object","keys","reduce","prev","curr","replace","data","console","log","then","res","catch","error"],"sources":["C:/Users/PC/Lưu trữ/src/utils/helpers/createApi.js"],"sourcesContent":["import Axios from \"axios\";\n\nexport default function createApi({ url, method }) {\n  const request = (paths = null, queries = null, payload = null) => {\n    const config = {};\n    config.url = url;\n    config.method = method;\n    // config.data = data\n\n    if (paths) {\n      config.url = Object.keys(paths).reduce(\n        (prev, curr) => prev.replace(`:${curr}`, paths[curr]),\n        url\n      );\n    }\n\n    if (queries) {\n      config.url = Object.keys(queries).reduce(\n        (prev, curr) => prev + `${curr}=${queries[curr]}`,\n        `${config.url}?`\n      );\n    }\n\n    if (payload) {\n      config.data = payload;\n    }\n\n    console.log('config', config)\n\n    return Axios(config)\n      .then((res) => res.data)\n      .catch((res) => res.error);\n  };\n\n  return request;\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,eAAe,SAASC,SAASA,CAAAC,IAAA,EAAkB;EAAA,IAAjB;IAAEC,GAAG;IAAEC;EAAO,CAAC,GAAAF,IAAA;EAC/C,MAAMG,OAAO,GAAG,SAAAA,CAAA,EAAkD;IAAA,IAAjDC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAI;IAAA,IAAEG,OAAO,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAI;IAAA,IAAEI,OAAO,GAAAJ,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAI;IAC3D,MAAMK,MAAM,GAAG,CAAC,CAAC;IACjBA,MAAM,CAACT,GAAG,GAAGA,GAAG;IAChBS,MAAM,CAACR,MAAM,GAAGA,MAAM;IACtB;;IAEA,IAAIE,KAAK,EAAE;MACTM,MAAM,CAACT,GAAG,GAAGU,MAAM,CAACC,IAAI,CAACR,KAAK,CAAC,CAACS,MAAM,CACpC,CAACC,IAAI,EAAEC,IAAI,KAAKD,IAAI,CAACE,OAAO,CAAE,IAAGD,IAAK,EAAC,EAAEX,KAAK,CAACW,IAAI,CAAC,CAAC,EACrDd,GACF,CAAC;IACH;IAEA,IAAIO,OAAO,EAAE;MACXE,MAAM,CAACT,GAAG,GAAGU,MAAM,CAACC,IAAI,CAACJ,OAAO,CAAC,CAACK,MAAM,CACtC,CAACC,IAAI,EAAEC,IAAI,KAAKD,IAAI,GAAI,GAAEC,IAAK,IAAGP,OAAO,CAACO,IAAI,CAAE,EAAC,EAChD,GAAEL,MAAM,CAACT,GAAI,GAChB,CAAC;IACH;IAEA,IAAIQ,OAAO,EAAE;MACXC,MAAM,CAACO,IAAI,GAAGR,OAAO;IACvB;IAEAS,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAET,MAAM,CAAC;IAE7B,OAAOZ,KAAK,CAACY,MAAM,CAAC,CACjBU,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACJ,IAAI,CAAC,CACvBK,KAAK,CAAED,GAAG,IAAKA,GAAG,CAACE,KAAK,CAAC;EAC9B,CAAC;EAED,OAAOpB,OAAO;AAChB"},"metadata":{},"sourceType":"module","externalDependencies":[]}